/**
 * @fileoverview added by tsickle
 * Generated from: lib/st-dynamic-table/st-dynamic-table.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/*
 * © 2017 Stratio Big Data Inc., Sucursal en España.
 *
 * This software is licensed under the Apache License, Version 2.0.
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the terms of the License for more details.
 *
 * SPDX-License-Identifier: Apache-2.0.
 */
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, TemplateRef } from '@angular/core';
import { StEgeo, StRequired } from '../decorators/require-decorators';
import { Order } from '../st-table/shared/order';
import { StDynamicTableUtils } from './utils/st-dynamic-table.utils';
import { StTableIconClasses } from '../st-table/st-table.interface';
/**
 * \@description {Component} [Dynamic Table]
 *
 * The table component has been designed to be able to create a table deducing its columns using a json schema
 *
 * * \@model
 *
 *   [StDynamicTableHeader] {./st-dynamic-table.model.ts#StDynamicTableHeader}
 *   [StDynamicTableUISpecification] {./st-dynamic-table.model.ts#StDynamicTableUISpecification}
 *   [StDynamicTableUserInterface] {./st-dynamic-table.model.ts#StDynamicTableUserInterface}
 *
 * \@example
 *
 * {html}
 *
 * ```
 * <st-dynamic-table [jsonSchema]="jsonSchema"
 *    [items]="sortedUsers"
 *    [sortable]="true"
 *    [filterable]="true"
 *    [hasHoverMenu]="true"
 *    [currentOrder]="currentOrder"
 *    [activeHoverMenu]="activeHoverMenuPosition"
 *    [templateContentFilter]="filterContent"
 *    (changeOrder)="onSortTable($event)"
 *    (showHoverMenu)="onShowHoverMenu($event)">
 *        <st-dropdown-menu st-dynamic-table-hover-menu
 *          class="hover-menu"
 *          [items]="rowActions"
 *          [active]="activeHoverMenuPosition[3] !== undefined"
 *          [visualMode]="1">
 *       </st-dropdown-menu>
 * </st-dynamic-table>
 * ```
 *
 */
var StDynamicTableComponent = /** @class */ (function () {
    function StDynamicTableComponent(_cd) {
        this._cd = _cd;
        /**
         * \@Input {boolean} [header=true] Boolean to show or hide the header
         */
        this.header = true;
        /**
         * \@Input {boolean} [sortable=true] Boolean to make sortable the table, To enable sorting of columns use
         * the new "sortable" field inside stTableHeader model
         */
        this.sortable = true;
        /**
         * \@Input {boolean} [filterable=false] Boolean to make filterable the table, To enable filtering of columns use
         * the new "filterable" field inside stTableHeader model (necesary define filterConfig).
         */
        this.filterable = false;
        /**
         * \@Input {boolean} [selectable=false] Boolean to show or hide a checkboxes in the first cell of rows
         */
        this.selectable = false;
        /**
         * \@Input {boolean} [selectableAll=false] Boolean to show or hide a checkbox in the header to select or
         *  deselect all rows
         */
        this.selectableAll = false;
        /**
         * \@Input {boolean[]} [selected=''] Boolean list to indicate if a row is selected
         */
        this.selected = [];
        /**
         * \@Input {boolean} [fixedHeader=false] Boolean to fix the table header
         */
        this.fixedHeader = false;
        /**
         * \@Input {StTableIconClasses} [iconClasses=''] List of icon classes
         */
        this.iconClasses = new StTableIconClasses();
        /**
         * \@Input {boolean[]} [statusFilter=] List of status filter by column, needed with templateContentFilter
         */
        this.statusFilter = [];
        /**
         * \@Input {string} [hoverButton='icon-ellipsis'] It specifies the icon class of the hover button displayed when user puts mouse over a row
         */
        this.hoverButton = 'icon-ellipsis';
        /**
         * \@Output {Order} [changeOrder=''] Event emitted with the new order which has to be applied to the table rows
         */
        this.changeOrder = new EventEmitter();
        /**
         * \@Output {boolean} [selectAll=''] Event emitted  when user interacts with the checkbox to select or deselect
         * all rows
         */
        this.selectAll = new EventEmitter();
        /**
         * \@Output {EventEmitter<StTableHeader[]>} [fields=] Event emitted when header fields are being loaded
         */
        this.updateFields = new EventEmitter();
        /**
         * \@Output {string} [clickFilter=] Event emitted when using filters custom template
         */
        this.clickFilter = new EventEmitter();
        /**
         * \@Output {StTableHeader[]} [selectFilters=] Event emitted  when user interacts with filter button without a custom template
         */
        this.selectFilters = new EventEmitter();
        /**
         * \@Output {EventEmitter<number} [showHoverMenu=] Event emitted when user clicks on hover button of a row
         */
        this.showHoverMenu = new EventEmitter();
        /**
         * \@Output {Object(checked: boolean, row: number)} [selectRow=] Event emitted when user clicks on checkbox of a row
         */
        this.selectRow = new EventEmitter();
        /**
         * \@Output {Object(checked: boolean, row: number)} [clickCell=] Event emitted when user clicks on checkbox of a row
         */
        this.clickCell = new EventEmitter();
        /**
         * \@Output {StDynamicTableFkEvent} [clickFk=] Event emitted when user clicks on Fk cell
         */
        this.clickFk = new EventEmitter();
        this.fields = [];
    }
    Object.defineProperty(StDynamicTableComponent.prototype, "templateContentFilter", {
        /** @Input {TemplateRef} [templateContentFilter=undefined] Reference to paint a custom template inside popover content */
        get: /**
         * \@Input {TemplateRef} [templateContentFilter=undefined] Reference to paint a custom template inside popover content
         * @return {?}
         */
        function () {
            return this._templateContentFilter;
        },
        set: /**
         * @param {?} _templateRef
         * @return {?}
         */
        function (_templateRef) {
            this._templateContentFilter = _templateRef;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StDynamicTableComponent.prototype, "jsonSchema", {
        /** @Input {JSONSchema4} [jsonSchema=] Json schema to define its structure */
        get: /**
         * \@Input {JSONSchema4} [jsonSchema=] Json schema to define its structure
         * @return {?}
         */
        function () {
            return this._jsonSchema;
        },
        set: /**
         * @param {?} _jsonSchema
         * @return {?}
         */
        function (_jsonSchema) {
            this._jsonSchema = _jsonSchema;
            this.fields = StDynamicTableUtils.getHeaderFieldsFromJsonSchema(this._jsonSchema, this.uiDefinitions);
            this.updateFields.emit(this.fields);
            this._cd.markForCheck();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} selectedFilter
     * @return {?}
     */
    StDynamicTableComponent.prototype.onFilterClick = /**
     * @param {?} selectedFilter
     * @return {?}
     */
    function (selectedFilter) {
        this.clickFilter.emit(selectedFilter);
    };
    /**
     * @param {?} order
     * @return {?}
     */
    StDynamicTableComponent.prototype.onChangeOrder = /**
     * @param {?} order
     * @return {?}
     */
    function (order) {
        if (order) {
            this.changeOrder.emit(order);
        }
    };
    /**
     * @param {?} checked
     * @return {?}
     */
    StDynamicTableComponent.prototype.onSelectAll = /**
     * @param {?} checked
     * @return {?}
     */
    function (checked) {
        this.selectAll.emit(checked);
    };
    /**
     * @param {?} selectedFilters
     * @return {?}
     */
    StDynamicTableComponent.prototype.onSelectedFilters = /**
     * @param {?} selectedFilters
     * @return {?}
     */
    function (selectedFilters) {
        this.selectFilters.emit(selectedFilters);
    };
    /**
     * @param {?} row
     * @return {?}
     */
    StDynamicTableComponent.prototype.onShowHoverMenu = /**
     * @param {?} row
     * @return {?}
     */
    function (row) {
        this.showHoverMenu.emit(row);
    };
    /**
     * @return {?}
     */
    StDynamicTableComponent.prototype.onLeaveRow = /**
     * @return {?}
     */
    function () {
        this.showHoverMenu.emit(undefined);
    };
    /**
     * @param {?} item
     * @param {?} field
     * @return {?}
     */
    StDynamicTableComponent.prototype.onClickFk = /**
     * @param {?} item
     * @param {?} field
     * @return {?}
     */
    function (item, field) {
        this.clickFk.emit({
            fk: field.fk,
            value: item[field.id]
        });
    };
    /**
     * @param {?} item
     * @param {?} field
     * @return {?}
     */
    StDynamicTableComponent.prototype.getCellContent = /**
     * @param {?} item
     * @param {?} field
     * @return {?}
     */
    function (item, field) {
        if (field.group) {
            return field.group.split(' - ')
                .map((/**
             * @param {?} _groupKey
             * @return {?}
             */
            function (_groupKey) { return item[_groupKey]; }))
                .join(' - ');
        }
        return item[field.id];
    };
    /**
     * @param {?} field
     * @return {?}
     */
    StDynamicTableComponent.prototype.getCellClasses = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        /** @type {?} */
        var classes = {};
        if (field.reference) {
            classes.clickable = true;
        }
        return classes;
    };
    /**
     * @param {?} field
     * @return {?}
     */
    StDynamicTableComponent.prototype.getCellStyles = /**
     * @param {?} field
     * @return {?}
     */
    function (field) {
        /** @type {?} */
        var uiDefinition = this.uiDefinitions && this.uiDefinitions[field.id];
        return uiDefinition && uiDefinition.styles;
    };
    /**
     * @param {?} checkboxEvent
     * @param {?} row
     * @return {?}
     */
    StDynamicTableComponent.prototype.onSelectRow = /**
     * @param {?} checkboxEvent
     * @param {?} row
     * @return {?}
     */
    function (checkboxEvent, row) {
        this.selectRow.emit({ checked: checkboxEvent.checked, row: row });
    };
    /**
     * @param {?} row
     * @param {?} fieldId
     * @param {?} label
     * @return {?}
     */
    StDynamicTableComponent.prototype.onClickCellLabel = /**
     * @param {?} row
     * @param {?} fieldId
     * @param {?} label
     * @return {?}
     */
    function (row, fieldId, label) {
        this.clickCell.emit({ row: row, fieldId: fieldId, label: label });
    };
    StDynamicTableComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    StDynamicTableComponent.decorators = [
        { type: Component, args: [{
                    selector: 'st-dynamic-table',
                    template: "<!--\n\n    \u00A9 2017 Stratio Big Data Inc., Sucursal en Espa\u00F1a.\n\n    This software is licensed under the Apache License, Version 2.0.\n    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n    without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n    See the terms of the License for more details.\n\n    SPDX-License-Identifier: Apache-2.0.\n\n-->\n\n<st-table *ngIf=\"fields && fields.length && items\"\n          class=\"st-dynamic-table\"\n          [fields]=\"fields\"\n          [header]=\"header\"\n          [sortable]=\"sortable\"\n          [filterable]=\"filterable\"\n          [selectableAll]=\"selectableAll\"\n          [hasHoverMenu]=\"hasHoverMenu\"\n          [fixedHeader]=\"fixedHeader\"\n          [currentOrder]=\"currentOrder\"\n          [customClasses]=\"customClasses\"\n          [selectedAll]=\"selectedAll\"\n          [templateContentFilter]=\"templateContentFilter\"\n          [statusFilter]=\"statusFilter\"\n          [iconClasses]=\"iconClasses\"\n          (selectAll)=\"onSelectAll($event)\"\n          (changeOrder)=\"onChangeOrder($event)\"\n          (selectFilters)=\"onSelectedFilters($event)\"\n          (clickFilter)=\"onFilterClick($event)\">\n   <tbody>\n   <tr st-table-row *ngFor=\"let item of items; let row = index\" [selected]=\"selected[row]\" (mouseleave)=\"onLeaveRow()\">\n      <td st-table-cell st-table-row-content\n          *ngFor=\"let field of fields; let cell = index\"\n          [ngClass]=\"getCellClasses(fields[cell])\"\n          [ngStyle]=\"getCellStyles(fields[cell])\">\n\n         <st-checkbox *ngIf=\"selectable && !cell\"\n                      class=\"st-table__checkbox\"\n                      [checked]=\"selected[row]\"\n                      (change)=\"onSelectRow($event, row)\">\n         </st-checkbox>\n         <span (click)=\"onClickCellLabel(row, field.id, item[field.id])\" *ngIf=\"!field.fk; else hasFk\">\n            {{item[field.id]}}\n         </span>\n         <ng-template #hasFk>\n            <a (click)=\"onClickFk(item, field)\" class=\"hasFk\">{{getCellContent(item, field)}}</a>\n         </ng-template>\n      </td>\n      <td st-table-row-hover class=\"st-table-hover\" *ngIf=\"hasHoverMenu\">\n         <i class=\"icon {{hoverButton}}\" (click)=\"onShowHoverMenu(row)\"></i>\n         <ng-content select='[st-dynamic-table-hover-menu]' *ngIf=\"activeHoverMenu === row\"></ng-content>\n      </td>\n   </tr>\n   </tbody>\n</st-table>\n",
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    styles: ["@charset \"UTF-8\";:host{width:100%}:host .st-dynamic-table{max-height:100%;min-width:100%}:host .st-table-hover>i{cursor:pointer}:host .hasFk{color:var(--egeo-theme-action,#0776df);cursor:pointer}"]
                }] }
    ];
    /** @nocollapse */
    StDynamicTableComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    StDynamicTableComponent.propDecorators = {
        items: [{ type: Input }],
        uiDefinitions: [{ type: Input }],
        qaTag: [{ type: Input }],
        header: [{ type: Input }],
        sortable: [{ type: Input }],
        filterable: [{ type: Input }],
        selectable: [{ type: Input }],
        selectableAll: [{ type: Input }],
        selected: [{ type: Input }],
        currentOrder: [{ type: Input }],
        customClasses: [{ type: Input }],
        fixedHeader: [{ type: Input }],
        iconClasses: [{ type: Input }],
        templateContentFilter: [{ type: Input }],
        statusFilter: [{ type: Input }],
        activeHoverMenu: [{ type: Input }],
        hasHoverMenu: [{ type: Input }],
        hoverButton: [{ type: Input }],
        selectedAll: [{ type: Input }],
        changeOrder: [{ type: Output }],
        selectAll: [{ type: Output }],
        updateFields: [{ type: Output }],
        clickFilter: [{ type: Output }],
        selectFilters: [{ type: Output }],
        showHoverMenu: [{ type: Output }],
        selectRow: [{ type: Output }],
        clickCell: [{ type: Output }],
        clickFk: [{ type: Output }],
        jsonSchema: [{ type: Input }]
    };
    tslib_1.__decorate([
        StRequired(),
        tslib_1.__metadata("design:type", Array)
    ], StDynamicTableComponent.prototype, "items", void 0);
    tslib_1.__decorate([
        StRequired(),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], StDynamicTableComponent.prototype, "jsonSchema", null);
    /**
     * \@description {Component} [Dynamic Table]
     *
     * The table component has been designed to be able to create a table deducing its columns using a json schema
     *
     * * \@model
     *
     *   [StDynamicTableHeader] {./st-dynamic-table.model.ts#StDynamicTableHeader}
     *   [StDynamicTableUISpecification] {./st-dynamic-table.model.ts#StDynamicTableUISpecification}
     *   [StDynamicTableUserInterface] {./st-dynamic-table.model.ts#StDynamicTableUserInterface}
     *
     * \@example
     *
     * {html}
     *
     * ```
     * <st-dynamic-table [jsonSchema]="jsonSchema"
     *    [items]="sortedUsers"
     *    [sortable]="true"
     *    [filterable]="true"
     *    [hasHoverMenu]="true"
     *    [currentOrder]="currentOrder"
     *    [activeHoverMenu]="activeHoverMenuPosition"
     *    [templateContentFilter]="filterContent"
     *    (changeOrder)="onSortTable($event)"
     *    (showHoverMenu)="onShowHoverMenu($event)">
     *        <st-dropdown-menu st-dynamic-table-hover-menu
     *          class="hover-menu"
     *          [items]="rowActions"
     *          [active]="activeHoverMenuPosition[3] !== undefined"
     *          [visualMode]="1">
     *       </st-dropdown-menu>
     * </st-dynamic-table>
     * ```
     *
     */
    StDynamicTableComponent = tslib_1.__decorate([
        StEgeo(),
        tslib_1.__metadata("design:paramtypes", [ChangeDetectorRef])
    ], StDynamicTableComponent);
    return StDynamicTableComponent;
}());
export { StDynamicTableComponent };
if (false) {
    /**
     * \@Input {Object(key: string, value: any)[]} [items=''] Item list displayed as table rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.items;
    /**
     * \@Input {StDynamicTableUserInterface} [uiDefinitions=''] UI definition for each field
     * @type {?}
     */
    StDynamicTableComponent.prototype.uiDefinitions;
    /**
     * \@Input {string} [qaTag=''] Prefix used to generate the id values for qa tests
     * @type {?}
     */
    StDynamicTableComponent.prototype.qaTag;
    /**
     * \@Input {boolean} [header=true] Boolean to show or hide the header
     * @type {?}
     */
    StDynamicTableComponent.prototype.header;
    /**
     * \@Input {boolean} [sortable=true] Boolean to make sortable the table, To enable sorting of columns use
     * the new "sortable" field inside stTableHeader model
     * @type {?}
     */
    StDynamicTableComponent.prototype.sortable;
    /**
     * \@Input {boolean} [filterable=false] Boolean to make filterable the table, To enable filtering of columns use
     * the new "filterable" field inside stTableHeader model (necesary define filterConfig).
     * @type {?}
     */
    StDynamicTableComponent.prototype.filterable;
    /**
     * \@Input {boolean} [selectable=false] Boolean to show or hide a checkboxes in the first cell of rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectable;
    /**
     * \@Input {boolean} [selectableAll=false] Boolean to show or hide a checkbox in the header to select or
     *  deselect all rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectableAll;
    /**
     * \@Input {boolean[]} [selected=''] Boolean list to indicate if a row is selected
     * @type {?}
     */
    StDynamicTableComponent.prototype.selected;
    /**
     * \@Input {Order} [currentOrder=''] It specifies what is the current order applied to the table
     * @type {?}
     */
    StDynamicTableComponent.prototype.currentOrder;
    /**
     * \@Input {string} [customClasses=] Classes for adding styles to table tag from outside. These can be: separated-rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.customClasses;
    /**
     * \@Input {boolean} [fixedHeader=false] Boolean to fix the table header
     * @type {?}
     */
    StDynamicTableComponent.prototype.fixedHeader;
    /**
     * \@Input {StTableIconClasses} [iconClasses=''] List of icon classes
     * @type {?}
     */
    StDynamicTableComponent.prototype.iconClasses;
    /**
     * \@Input {boolean[]} [statusFilter=] List of status filter by column, needed with templateContentFilter
     * @type {?}
     */
    StDynamicTableComponent.prototype.statusFilter;
    /**
     * \@Input {number} [activeHoverMenu=] Position of the current active hover menu
     * @type {?}
     */
    StDynamicTableComponent.prototype.activeHoverMenu;
    /**
     * \@Input {boolean} [hasHoverMenu=] It specifies if a menu has to be displayed when user puts the mouse over
     * the rows. Remember to add a cell with the selector st-table-row-hover for adding content to the menu
     * @type {?}
     */
    StDynamicTableComponent.prototype.hasHoverMenu;
    /**
     * \@Input {string} [hoverButton='icon-ellipsis'] It specifies the icon class of the hover button displayed when user puts mouse over a row
     * @type {?}
     */
    StDynamicTableComponent.prototype.hoverButton;
    /**
     * \@Input {boolean} [selectedAll=] It specifies if all rows are selected
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectedAll;
    /**
     * \@Output {Order} [changeOrder=''] Event emitted with the new order which has to be applied to the table rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.changeOrder;
    /**
     * \@Output {boolean} [selectAll=''] Event emitted  when user interacts with the checkbox to select or deselect
     * all rows
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectAll;
    /**
     * \@Output {EventEmitter<StTableHeader[]>} [fields=] Event emitted when header fields are being loaded
     * @type {?}
     */
    StDynamicTableComponent.prototype.updateFields;
    /**
     * \@Output {string} [clickFilter=] Event emitted when using filters custom template
     * @type {?}
     */
    StDynamicTableComponent.prototype.clickFilter;
    /**
     * \@Output {StTableHeader[]} [selectFilters=] Event emitted  when user interacts with filter button without a custom template
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectFilters;
    /**
     * \@Output {EventEmitter<number} [showHoverMenu=] Event emitted when user clicks on hover button of a row
     * @type {?}
     */
    StDynamicTableComponent.prototype.showHoverMenu;
    /**
     * \@Output {Object(checked: boolean, row: number)} [selectRow=] Event emitted when user clicks on checkbox of a row
     * @type {?}
     */
    StDynamicTableComponent.prototype.selectRow;
    /**
     * \@Output {Object(checked: boolean, row: number)} [clickCell=] Event emitted when user clicks on checkbox of a row
     * @type {?}
     */
    StDynamicTableComponent.prototype.clickCell;
    /**
     * \@Output {StDynamicTableFkEvent} [clickFk=] Event emitted when user clicks on Fk cell
     * @type {?}
     */
    StDynamicTableComponent.prototype.clickFk;
    /** @type {?} */
    StDynamicTableComponent.prototype.fields;
    /**
     * @type {?}
     * @private
     */
    StDynamicTableComponent.prototype._jsonSchema;
    /**
     * @type {?}
     * @private
     */
    StDynamicTableComponent.prototype._templateContentFilter;
    /**
     * @type {?}
     * @private
     */
    StDynamicTableComponent.prototype._cd;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3QtZHluYW1pYy10YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3RyYXRpby9lZ2VvLyIsInNvdXJjZXMiOlsibGliL3N0LWR5bmFtaWMtdGFibGUvc3QtZHluYW1pYy10YWJsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQVVBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR2hJLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDdEUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRWpELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRXJFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXFKakUsaUNBQW9CLEdBQXNCO1FBQXRCLFFBQUcsR0FBSCxHQUFHLENBQW1COzs7O1FBNUZqQyxXQUFNLEdBQVksSUFBSSxDQUFDOzs7OztRQUt2QixhQUFRLEdBQVksSUFBSSxDQUFDOzs7OztRQUt6QixlQUFVLEdBQVksS0FBSyxDQUFDOzs7O1FBSTVCLGVBQVUsR0FBWSxLQUFLLENBQUM7Ozs7O1FBSzVCLGtCQUFhLEdBQVksS0FBSyxDQUFDOzs7O1FBRy9CLGFBQVEsR0FBZSxFQUFFLENBQUM7Ozs7UUFTMUIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7Ozs7UUFFN0IsZ0JBQVcsR0FBd0IsSUFBSSxrQkFBa0IsRUFBRSxDQUFDOzs7O1FBYTVELGlCQUFZLEdBQWUsRUFBRSxDQUFDOzs7O1FBVzlCLGdCQUFXLEdBQVcsZUFBZSxDQUFDOzs7O1FBTXJDLGdCQUFXLEdBQXdCLElB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Ozs7OztJQUcvQiw4Q0FBdUU7Ozs7OztJQUl2RSw0Q0FBeUU7Ozs7O0lBRXpFLCtDQUE0Rjs7Ozs7SUFHNUYsOENBQXdFOzs7OztJQUd4RSxnREFBNkY7Ozs7O0lBRTdGLGdEQUEyRTs7Ozs7SUFFM0UsNENBQTZIOzs7OztJQUU3SCw0Q0FBeUo7Ozs7O0lBRXpKLDBDQUFtRzs7SUFHbkcseUNBQTJDOzs7OztJQUUzQyw4Q0FBaUM7Ozs7O0lBRWpDLHlEQUFpRDs7Ozs7SUFFckMsc0NBQThCIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIMKpIDIwMTcgU3RyYXRpbyBCaWcgRGF0YSBJbmMuLCBTdWN1cnNhbCBlbiBFc3Bhw7FhLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMC5cbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7XG4gKiB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLlxuICogU2VlIHRoZSB0ZXJtcyBvZiB0aGUgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSlNPTlNjaGVtYTQgfSBmcm9tICdqc29uLXNjaGVtYSc7XG5cbmltcG9ydCB7IFN0RWdlbywgU3RSZXF1aXJlZCB9IGZyb20gJy4uL2RlY29yYXRvcnMvcmVxdWlyZS1kZWNvcmF0b3JzJztcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSAnLi4vc3QtdGFibGUvc2hhcmVkL29yZGVyJztcbmltcG9ydCB7IFN0VGFibGVIZWFkZXIgfSBmcm9tICcuLi9zdC10YWJsZS9zaGFyZWQvdGFibGUtaGVhZGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBTdER5bmFtaWNUYWJsZVV0aWxzIH0gZnJvbSAnLi91dGlscy9zdC1keW5hbWljLXRhYmxlLnV0aWxzJztcbmltcG9ydCB7IFN0RHluYW1pY1RhYmxlSGVhZGVyLCBTdER5bmFtaWNUYWJsZVVzZXJJbnRlcmZhY2UsIFN0RHluYW1pY1RhYmxlRmtFdmVudCB9IGZyb20gJy4vc3QtZHluYW1pYy10YWJsZS5tb2RlbCc7XG5pbXBvcnQgeyBTdFRhYmxlSWNvbkNsYXNzZXMgfSBmcm9tICcuLi9zdC10YWJsZS9zdC10YWJsZS5pbnRlcmZhY2UnO1xuXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIHtDb21wb25lbnR9IFtEeW5hbWljIFRhYmxlXVxuICpcbiAqIFRoZSB0YWJsZSBjb21wb25lbnQgaGFzIGJlZW4gZGVzaWduZWQgdG8gYmUgYWJsZSB0byBjcmVhdGUgYSB0YWJsZSBkZWR1Y2luZyBpdHMgY29sdW1ucyB1c2luZyBhIGpzb24gc2NoZW1hXG4gKlxuICogKiBAbW9kZWxcbiAqXG4gKiAgIFtTdER5bmFtaWNUYWJsZUhlYWRlcl0gey4vc3QtZHluYW1pYy10YWJsZS5tb2RlbC50cyNTdER5bmFtaWNUYWJsZUhlYWRlcn1cbiAqICAgW1N0RHluYW1pY1RhYmxlVUlTcGVjaWZpY2F0aW9uXSB7Li9zdC1keW5hbWljLXRhYmxlLm1vZGVsLnRzI1N0RHluYW1pY1RhYmxlVUlTcGVjaWZpY2F0aW9ufVxuICogICBbU3REeW5hbWljVGFibGVVc2VySW50ZXJmYWNlXSB7Li9zdC1keW5hbWljLXRhYmxlLm1vZGVsLnRzI1N0RHluYW1pY1RhYmxlVXNlckludGVyZmFjZX1cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHtodG1sfVxuICpcbiAqIGBgYFxuICogPHN0LWR5bmFtaWMtdGFibGUgW2pzb25TY2hlbWFdPVwianNvblNjaGVtYVwiXG4gKiAgICBbaXRlbXNdPVwic29ydGVkVXNlcnNcIlxuICogICAgW3NvcnRhYmxlXT1cInRydWVcIlxuICogICAgW2ZpbHRlcmFibGVdPVwidHJ1ZVwiXG4gKiAgICBbaGFzSG92ZXJNZW51XT1cInRydWVcIlxuICogICAgW2N1cnJlbnRPcmRlcl09XCJjdXJyZW50T3JkZXJcIlxuICogICAgW2FjdGl2ZUhvdmVyTWVudV09XCJhY3RpdmVIb3Zlck1lbnVQb3NpdGlvblwiXG4gKiAgICBbdGVtcGxhdGVDb250ZW50RmlsdGVyXT1cImZpbHRlckNvbnRlbnRcIlxuICogICAgKGNoYW5nZU9yZGVyKT1cIm9uU29ydFRhYmxlKCRldmVudClcIlxuICogICAgKHNob3dIb3Zlck1lbnUpPVwib25TaG93SG92ZXJNZW51KCRldmVudClcIj5cbiAqICAgICAgICA8c3QtZHJvcGRvd24tbWVudSBzdC1keW5hbWljLXRhYmxlLWhvdmVyLW1lbnVcbiAqICAgICAgICAgIGNsYXNzPVwiaG92ZXItbWVudVwiXG4gKiAgICAgICAgICBbaXRlbXNdPVwicm93QWN0aW9uc1wiXG4gKiAgICAgICAgICBbYWN0aXZlXT1cImFjdGl2ZUhvdmVyTWVudVBvc2l0aW9uWzNdICE9PSB1bmRlZmluZWRcIlxuICogICAgICAgICAgW3Zpc3VhbE1vZGVdPVwiMVwiPlxuICogICAgICAgPC9zdC1kcm9wZG93bi1tZW51PlxuICogPC9zdC1keW5hbWljLXRhYmxlPlxuICogYGBgXG4gKlxuICovXG5AU3RFZ2VvKClcbkBDb21wb25lbnQoe1xuICAgc2VsZWN0b3I6ICdzdC1keW5hbWljLXRhYmxlJyxcbiAgIHRlbXBsYXRlVXJsOiAnLi9zdC1keW5hbWljLXRhYmxlLmNvbXBvbmVudC5odG1sJyxcbiAgIHN0eWxlVXJsczogWycuL3N0LWR5bmFtaWMtdGFibGUuY29tcG9uZW50LnNjc3MnXSxcbiAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuXG5leHBvcnQgY2xhc3MgU3REeW5hbWljVGFibGVDb21wb25lbnQge1xuICAgLyoqIEBJbnB1dCB7T2JqZWN0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KVtdfSBbaXRlbXM9JyddIEl0ZW0gbGlzdCBkaXNwbGF5ZWQgYXMgdGFibGUgcm93cyAqL1xuICAgQElucHV0KCkgQFN0UmVxdWlyZWQoKSBpdGVtczogeyBrZXk6IHN0cmluZywgdmFsdWU6IGFueSB9W107XG5cbiAgIC8qKiBASW5wdXQge1N0RHluYW1pY1RhYmxlVXNlckludGVyZmFjZX0gW3VpRGVmaW5pdGlvbnM9JyddIFVJIGRlZmluaXRpb24gZm9yIGVhY2ggZmllbGQgKi9cbiAgIEBJbnB1dCgpIHVpRGVmaW5pdGlvbnM6IFN0RHluYW1pY1RhYmxlVXNlckludGVyZmFjZTtcblxuICAgLyoqIEBJbnB1dCB7c3RyaW5nfSBbcWFUYWc9JyddIFByZWZpeCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBpZCB2YWx1ZXMgZm9yIHFhIHRlc3RzICovXG4gICBASW5wdXQoKSBxYVRhZzogc3RyaW5nO1xuICAgLyoqIEBJbnB1dCB7Ym9vbGVhbn0gW2hlYWRlcj10cnVlXSBCb29sZWFuIHRvIHNob3cgb3IgaGlkZSB0aGUgaGVhZGVyICovXG4gICBASW5wdXQoKSBoZWFkZXI6IGJvb2xlYW4gPSB0cnVlO1xuICAgLyoqXG4gICAgKiBASW5wdXQge2Jvb2xlYW59IFtzb3J0YWJsZT10cnVlXSBCb29sZWFuIHRvIG1ha2Ugc29ydGFibGUgdGhlIHRhYmxlLCBUbyBlbmFibGUgc29ydGluZyBvZiBjb2x1bW5zIHVzZVxuICAgICogdGhlIG5ldyBcInNvcnRhYmxlXCIgZmllbGQgaW5zaWRlIHN0VGFibGVIZWFkZXIgbW9kZWxcbiAgICAqL1xuICAgQElucHV0KCkgc29ydGFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgLyoqXG4gICAgKiBASW5wdXQge2Jvb2xlYW59IFtmaWx0ZXJhYmxlPWZhbHNlXSBCb29sZWFuIHRvIG1ha2UgZmlsdGVyYWJsZSB0aGUgdGFibGUsIFRvIGVuYWJsZSBmaWx0ZXJpbmcgb2YgY29sdW1ucyB1c2VcbiAgICAqIHRoZSBuZXcgXCJmaWx0ZXJhYmxlXCIgZmllbGQgaW5zaWRlIHN0VGFibGVIZWFkZXIgbW9kZWwgKG5lY2VzYXJ5IGRlZmluZSBmaWx0ZXJDb25maWcpLlxuICAgICovXG4gICBASW5wdXQoKSBmaWx0ZXJhYmxlOiBib29sZWFuID0gZmFsc2U7XG4gICAvKipcbiAgICAqIEBJbnB1dCB7Ym9vbGVhbn0gW3NlbGVjdGFibGU9ZmFsc2VdIEJvb2xlYW4gdG8gc2hvdyBvciBoaWRlIGEgY2hlY2tib3hlcyBpbiB0aGUgZmlyc3QgY2VsbCBvZiByb3dzXG4gICAgKi9cbiAgIEBJbnB1dCgpIHNlbGVjdGFibGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgIC8qKlxuICAgICogQElucHV0IHtib29sZWFufSBbc2VsZWN0YWJsZUFsbD1mYWxzZV0gQm9vbGVhbiB0byBzaG93IG9yIGhpZGUgYSBjaGVja2JveCBpbiB0aGUgaGVhZGVyIHRvIHNlbGVjdCBvclxuICAgICogIGRlc2VsZWN0IGFsbCByb3dzXG4gICAgKi9cbiAgIEBJbnB1dCgpIHNlbGVjdGFibGVBbGw6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgLyoqIEBJbnB1dCB7Ym9vbGVhbltdfSBbc2VsZWN0ZWQ9JyddIEJvb2xlYW4gbGlzdCB0byBpbmRpY2F0ZSBpZiBhIHJvdyBpcyBzZWxlY3RlZCAqL1xuICAgQElucHV0KCkgc2VsZWN0ZWQ/OiBib29sZWFuW10gPSBbXTtcblxuICAgLyoqIEBJbnB1dCB7T3JkZXJ9IFtjdXJyZW50T3JkZXI9JyddIEl0IHNwZWNpZmllcyB3aGF0IGlzIHRoZSBjdXJyZW50IG9yZGVyIGFwcGxpZWQgdG8gdGhlIHRhYmxlICovXG4gICBASW5wdXQoKSBjdXJyZW50T3JkZXI6IE9yZGVyO1xuXG4gICAvKiogQElucHV0IHtzdHJpbmd9IFtjdXN0b21DbGFzc2VzPV0gQ2xhc3NlcyBmb3IgYWRkaW5nIHN0eWxlcyB0byB0YWJsZSB0YWcgZnJvbSBvdXRzaWRlLiBUaGVzZSBjYW4gYmU6IHNlcGFyYXRlZC1yb3dzICovXG4gICBASW5wdXQoKSBjdXN0b21DbGFzc2VzOiBzdHJpbmc7XG5cbiAgIC8qKiBASW5wdXQge2Jvb2xlYW59IFtmaXhlZEhlYWRlcj1mYWxzZV0gQm9vbGVhbiB0byBmaXggdGhlIHRhYmxlIGhlYWRlciAqL1xuICAgQElucHV0KCkgZml4ZWRIZWFkZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgIC8qKiBASW5wdXQge1N0VGFibGVJY29uQ2xhc3Nlc30gW2ljb25DbGFzc2VzPScnXSBMaXN0IG9mIGljb24gY2xhc3NlcyAqL1xuICAgQElucHV0KCkgaWNvbkNsYXNzZXM/OiBTdFRhYmxlSWNvbkNsYXNzZXMgPSBuZXcgU3RUYWJsZUljb25DbGFzc2VzKCk7XG5cbiAgIC8qKiBASW5wdXQge1RlbXBsYXRlUmVmfSBbdGVtcGxhdGVDb250ZW50RmlsdGVyPXVuZGVmaW5lZF0gUmVmZXJlbmNlIHRvIHBhaW50IGEgY3VzdG9tIHRlbXBsYXRlIGluc2lkZSBwb3BvdmVyIGNvbnRlbnQgKi9cbiAgIEBJbnB1dCgpXG4gICBnZXQgdGVtcGxhdGVDb250ZW50RmlsdGVyKCk6IFRlbXBsYXRlUmVmPGFueT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlQ29udGVudEZpbHRlcjtcbiAgIH1cblxuICAgc2V0IHRlbXBsYXRlQ29udGVudEZpbHRlcihfdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT4pIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlQ29udGVudEZpbHRlciA9IF90ZW1wbGF0ZVJlZjtcbiAgIH1cblxuICAgLyoqIEBJbnB1dCB7Ym9vbGVhbltdfSBbc3RhdHVzRmlsdGVyPV0gTGlzdCBvZiBzdGF0dXMgZmlsdGVyIGJ5IGNvbHVtbiwgbmVlZGVkIHdpdGggdGVtcGxhdGVDb250ZW50RmlsdGVyICovXG4gICBASW5wdXQoKSBzdGF0dXNGaWx0ZXI/OiBib29sZWFuW10gPSBbXTtcblxuICAgLyoqIEBJbnB1dCB7bnVtYmVyfSBbYWN0aXZlSG92ZXJNZW51PV0gUG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgYWN0aXZlIGhvdmVyIG1lbnUgKi9cbiAgIEBJbnB1dCgpIGFjdGl2ZUhvdmVyTWVudT86IG51bWJlcjtcblxuICAgLyoqIEBJbnB1dCB7Ym9vbGVhbn0gW2hhc0hvdmVyTWVudT1dIEl0IHNwZWNpZmllcyBpZiBhIG1lbnUgaGFzIHRvIGJlIGRpc3BsYXllZCB3aGVuIHVzZXIgcHV0cyB0aGUgbW91c2Ugb3ZlclxuICAgICogdGhlIHJvd3MuIFJlbWVtYmVyIHRvIGFkZCBhIGNlbGwgd2l0aCB0aGUgc2VsZWN0b3Igc3QtdGFibGUtcm93LWhvdmVyIGZvciBhZGRpbmcgY29udGVudCB0byB0aGUgbWVudVxuICAgICovXG4gICBASW5wdXQoKSBoYXNIb3Zlck1lbnU/OiBib29sZWFuO1xuICAgLyoqIEBJbnB1dCB7c3RyaW5nfSBbaG92ZXJCdXR0b249J2ljb24tZWxsaXBzaXMnXSBJdCBzcGVjaWZpZXMgdGhlIGljb24gY2xhc3Mgb2YgdGhlIGhvdmVyIGJ1dHRvbiBkaXNwbGF5ZWQgd2hlbiB1c2VyIHB1dHMgbW91c2Ugb3ZlciBhIHJvd1xuICAgICovXG4gICBASW5wdXQoKSBob3ZlckJ1dHRvbjogc3RyaW5nID0gJ2ljb24tZWxsaXBzaXMnO1xuXG4gICAvKiogQElucHV0IHtib29sZWFufSBbc2VsZWN0ZWRBbGw9XSBJdCBzcGVjaWZpZXMgaWYgYWxsIHJvd3MgYXJlIHNlbGVjdGVkICovXG4gICBASW5wdXQoKSBzZWxlY3RlZEFsbD86IGJvb2xlYW47XG5cbiAgIC8qKiBAT3V0cHV0IHtPcmRlcn0gW2NoYW5nZU9yZGVyPScnXSBFdmVudCBlbWl0dGVkIHdpdGggdGhlIG5ldyBvcmRlciB3aGljaCBoYXMgdG8gYmUgYXBwbGllZCB0byB0aGUgdGFibGUgcm93cyAqL1xuICAgQE91dHB1dCgpIGNoYW5nZU9yZGVyOiBFdmVudEVtaXR0ZXI8T3JkZXI+ID0gbmV3IEV2ZW50RW1pdHRlcjxPcmRlcj4oKTtcbiAgIC8qKiBAT3V0cHV0IHtib29sZWFufSBbc2VsZWN0QWxsPScnXSBFdmVudCBlbWl0dGVkICB3aGVuIHVzZXIgaW50ZXJhY3RzIHdpdGggdGhlIGNoZWNrYm94IHRvIHNlbGVjdCBvciBkZXNlbGVjdFxuICAgICogYWxsIHJvd3NcbiAgICAqL1xuICAgQE91dHB1dCgpIHNlbGVjdEFsbDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuICAgLyoqIEBPdXRwdXQge0V2ZW50RW1pdHRlcjxTdFRhYmxlSGVhZGVyW10+fSBbZmllbGRzPV0gRXZlbnQgZW1pdHRlZCB3aGVuIGhlYWRlciBmaWVsZHMgYXJlIGJlaW5nIGxvYWRlZCAqL1xuICAgQE91dHB1dCgpIHVwZGF0ZUZpZWxkczogRXZlbnRFbWl0dGVyPFN0VGFibGVIZWFkZXJbXT4gPSBuZXcgRXZlbnRFbWl0dGVyPFN0VGFibGVIZWFkZXJbXT4oKTtcblxuICAgLyoqIEBPdXRwdXQge3N0cmluZ30gW2NsaWNrRmlsdGVyPV0gRXZlbnQgZW1pdHRlZCB3aGVuIHVzaW5nIGZpbHRlcnMgY3VzdG9tIHRlbXBsYXRlICAqL1xuICAgQE91dHB1dCgpIGNsaWNrRmlsdGVyOiBFdmVudEVtaXR0ZXI8U3RUYWJsZUhlYWRlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgIC8qKiBAT3V0cHV0IHtTdFRhYmxlSGVhZGVyW119IFtzZWxlY3RGaWx0ZXJzPV0gRXZlbnQgZW1pdHRlZCAgd2hlbiB1c2VyIGludGVyYWN0cyB3aXRoIGZpbHRlciBidXR0b24gd2l0aG91dCBhIGN1c3RvbSB0ZW1wbGF0ZSAqL1xuICAgQE91dHB1dCgpIHNlbGVjdEZpbHRlcnM6IEV2ZW50RW1pdHRlcjxTdFRhYmxlSGVhZGVyW10+ID0gbmV3IEV2ZW50RW1pdHRlcjxTdFRhYmxlSGVhZGVyW10+KCk7XG4gICAvKiogQE91dHB1dCB7RXZlbnRFbWl0dGVyPG51bWJlcn0gW3Nob3dIb3Zlck1lbnU9XSBFdmVudCBlbWl0dGVkIHdoZW4gdXNlciBjbGlja3Mgb24gaG92ZXIgYnV0dG9uIG9mIGEgcm93ICovXG4gICBAT3V0cHV0KCkgc2hvd0hvdmVyTWVudTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcbiAgIC8qKiBAT3V0cHV0IHtPYmplY3QoY2hlY2tlZDogYm9vbGVhbiwgcm93OiBudW1iZXIpfSBbc2VsZWN0Um93PV0gRXZlbnQgZW1pdHRlZCB3aGVuIHVzZXIgY2xpY2tzIG9uIGNoZWNrYm94IG9mIGEgcm93ICovXG4gICBAT3V0cHV0KCkgc2VsZWN0Um93OiBFdmVudEVtaXR0ZXI8eyBjaGVja2VkOiBib29sZWFuLCByb3c6IG51bWJlciB9PiA9IG5ldyBFdmVudEVtaXR0ZXI8eyBjaGVja2VkOiBib29sZWFuLCByb3c6IG51bWJlciB9PigpO1xuICAgLyoqIEBPdXRwdXQge09iamVjdChjaGVja2VkOiBib29sZWFuLCByb3c6IG51bWJlcil9IFtjbGlja0NlbGw9XSBFdmVudCBlbWl0dGVkIHdoZW4gdXNlciBjbGlja3Mgb24gY2hlY2tib3ggb2YgYSByb3cgKi9cbiAgIEBPdXRwdXQoKSBjbGlja0NlbGw6IEV2ZW50RW1pdHRlcjx7IHJvdzogbnVtYmVyLCBmaWVsZElkOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgcm93OiBudW1iZXIsIGZpZWxkSWQ6IHN0cmluZywgbGFiZWw6IHN0cmluZyB9PigpO1xuICAgLyoqIEBPdXRwdXQge1N0RHluYW1pY1RhYmxlRmtFdmVudH0gW2NsaWNrRms9XSBFdmVudCBlbWl0dGVkIHdoZW4gdXNlciBjbGlja3Mgb24gRmsgY2VsbCAqL1xuICAgQE91dHB1dCgpIGNsaWNrRms6IEV2ZW50RW1pdHRlcjxTdER5bmFtaWNUYWJsZUZrRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxTdER5bmFtaWNUYWJsZUZrRXZlbnQ+KCk7XG5cblxuICAgcHVibGljIGZpZWxkczogU3REeW5hbWljVGFibGVIZWFkZXJbXSA9IFtdO1xuXG4gICBwcml2YXRlIF9qc29uU2NoZW1hOiBKU09OU2NoZW1hNDtcblxuICAgcHJpdmF0ZSBfdGVtcGxhdGVDb250ZW50RmlsdGVyOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgIH1cblxuICAgLyoqIEBJbnB1dCB7SlNPTlNjaGVtYTR9IFtqc29uU2NoZW1hPV0gSnNvbiBzY2hlbWEgdG8gZGVmaW5lIGl0cyBzdHJ1Y3R1cmUgKi9cbiAgIEBJbnB1dCgpIEBTdFJlcXVpcmVkKClcbiAgIGdldCBqc29uU2NoZW1hKCk6IEpTT05TY2hlbWE0IHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uU2NoZW1hO1xuICAgfVxuXG4gICBzZXQganNvblNjaGVtYShfanNvblNjaGVtYTogSlNPTlNjaGVtYTQpIHtcbiAgICAgIHRoaXMuX2pzb25TY2hlbWEgPSBfanNvblNjaGVtYTtcbiAgICAgIHRoaXMuZmllbGRzID0gU3REeW5hbWljVGFibGVVdGlscy5nZXRIZWFkZXJGaWVsZHNGcm9tSnNvblNjaGVtYSh0aGlzLl9qc29uU2NoZW1hLCB0aGlzLnVpRGVmaW5pdGlvbnMpO1xuICAgICAgdGhpcy51cGRhdGVGaWVsZHMuZW1pdCh0aGlzLmZpZWxkcyk7XG4gICAgICB0aGlzLl9jZC5tYXJrRm9yQ2hlY2soKTtcbiAgIH1cblxuICAgcHVibGljIG9uRmlsdGVyQ2xpY2soc2VsZWN0ZWRGaWx0ZXI6IGFueSk6IHZvaWQge1xuICAgICAgdGhpcy5jbGlja0ZpbHRlci5lbWl0KHNlbGVjdGVkRmlsdGVyKTtcbiAgIH1cblxuICAgcHVibGljIG9uQ2hhbmdlT3JkZXIob3JkZXI6IE9yZGVyKTogdm9pZCB7XG4gICAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgIHRoaXMuY2hhbmdlT3JkZXIuZW1pdChvcmRlcik7XG4gICAgICB9XG4gICB9XG5cbiAgIHB1YmxpYyBvblNlbGVjdEFsbChjaGVja2VkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICB0aGlzLnNlbGVjdEFsbC5lbWl0KGNoZWNrZWQpO1xuICAgfVxuXG4gICBwdWJsaWMgb25TZWxlY3RlZEZpbHRlcnMoc2VsZWN0ZWRGaWx0ZXJzOiBTdFRhYmxlSGVhZGVyW10pOiB2b2lkIHtcbiAgICAgIHRoaXMuc2VsZWN0RmlsdGVycy5lbWl0KHNlbGVjdGVkRmlsdGVycyk7XG4gICB9XG5cbiAgIHB1YmxpYyBvblNob3dIb3Zlck1lbnUocm93OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuc2hvd0hvdmVyTWVudS5lbWl0KHJvdyk7XG4gICB9XG5cbiAgIHB1YmxpYyBvbkxlYXZlUm93KCk6IHZvaWQge1xuICAgICAgdGhpcy5zaG93SG92ZXJNZW51LmVtaXQodW5kZWZpbmVkKTtcbiAgIH1cblxuICAgcHVibGljIG9uQ2xpY2tGayhpdGVtOiBhbnksIGZpZWxkOiBTdER5bmFtaWNUYWJsZUhlYWRlcik6IHZvaWQge1xuICAgICAgdGhpcy5jbGlja0ZrLmVtaXQoe1xuICAgICAgICAgZms6IGZpZWxkLmZrLFxuICAgICAgICAgdmFsdWU6IGl0ZW1bZmllbGQuaWRdXG4gICAgICB9KTtcbiAgIH1cblxuICAgcHVibGljIGdldENlbGxDb250ZW50KGl0ZW06IHsga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkgfSwgZmllbGQ6IFN0RHluYW1pY1RhYmxlSGVhZGVyKTogc3RyaW5nIHtcbiAgICAgIGlmIChmaWVsZC5ncm91cCkge1xuICAgICAgICAgcmV0dXJuIGZpZWxkLmdyb3VwLnNwbGl0KCcgLSAnKVxuICAgICAgICAgICAgLm1hcChfZ3JvdXBLZXkgPT4gaXRlbVtfZ3JvdXBLZXldKVxuICAgICAgICAgICAgLmpvaW4oJyAtICcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1bZmllbGQuaWRdO1xuICAgfVxuXG4gICBwdWJsaWMgZ2V0Q2VsbENsYXNzZXMoZmllbGQ6IFN0RHluYW1pY1RhYmxlSGVhZGVyKTogeyBjbGlja2FibGU/OiBib29sZWFuIH0ge1xuICAgICAgbGV0IGNsYXNzZXM6IHsgY2xpY2thYmxlPzogYm9vbGVhbiB9ID0ge307XG5cbiAgICAgIGlmIChmaWVsZC5yZWZlcmVuY2UpIHtcbiAgICAgICAgIGNsYXNzZXMuY2xpY2thYmxlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICB9XG5cbiAgIHB1YmxpYyBnZXRDZWxsU3R5bGVzKGZpZWxkOiBTdER5bmFtaWNUYWJsZUhlYWRlcik6IGFueSB7XG4gICAgICBjb25zdCB1aURlZmluaXRpb24gPSB0aGlzLnVpRGVmaW5pdGlvbnMgJiYgdGhpcy51aURlZmluaXRpb25zW2ZpZWxkLmlkXTtcbiAgICAgIHJldHVybiB1aURlZmluaXRpb24gJiYgdWlEZWZpbml0aW9uLnN0eWxlcztcbiAgIH1cblxuICAgcHVibGljIG9uU2VsZWN0Um93KGNoZWNrYm94RXZlbnQ6IHsgY2hlY2tlZDogYm9vbGVhbiwgdmFsdWU6IGFueSB9LCByb3c6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5zZWxlY3RSb3cuZW1pdCh7IGNoZWNrZWQ6IGNoZWNrYm94RXZlbnQuY2hlY2tlZCwgcm93OiByb3cgfSk7XG4gICB9XG5cbiAgIHB1YmxpYyBvbkNsaWNrQ2VsbExhYmVsKHJvdzogbnVtYmVyLCBmaWVsZElkOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHRoaXMuY2xpY2tDZWxsLmVtaXQoeyByb3csIGZpZWxkSWQsIGxhYmVsIH0pO1xuICAgfVxuXG59XG4iXX0=